<!-- MHonArc v2.6.18 -->
<!--X-Subject: es and gcc&#45;2.5.0 -->
<!--X-From-R13: evggyrNpbzz.zbg.pbz (Zbera Xnzrf Dvggyr) -->
<!--X-Date: Mon, 25 Oct 1993 15:12:06 &#45;0400 -->
<!--X-Message-Id: 9310251911.AA29826@supra.comm.mot.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>es and gcc-2.5.0</title>
<link rev="made" href="mailto:rittle@comm.mot.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00710.html">Date Prev</a>][<a href="msg00712.html">Date Next</a>][<a href="msg00714.html">Thread Prev</a>][<a href="msg00712.html">Thread Next</a>][<a href="maillist.html#00711">Date Index</a>][<a href="threads.html#00711">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>es and gcc-2.5.0</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:es%40hawkwind.utcs.toronto.edu">es@hawkwind.utcs.toronto.edu</a></li>
<li><em>Subject</em>: es and gcc-2.5.0</li>
<li><em>From</em>: <a href="mailto:rittle%40comm.mot.com">rittle@comm.mot.com</a> (Loren James Rittle)</li>
<li><em>Date</em>: Mon, 25 Oct 1993 15:11:43 -0400</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Just a quick warning that gcc-2.5.0's fixproto (great new feature that
when run with fixincludes will add prototypes to all the system include
files) will create include files that es will no longer work with on
DECstation and SUN hosts (and I believe other hosts as well).  Since es
has been noted as 'needing' a gcc level compiler, I thought it wise to
pass along the needed diffs to es.

I don't claim that this is the best fix.  System prototypes don't belong
in user code and es still has some scattered in its code, but I didn't
track them down and remove them since the following two fixes seem to be
enough.

Regards,
Loren

*** es-0.84/stdenv.h Mon Oct 25 13:26:59 1993
--- es-0.84old/stdenv.h    Thu Apr 29 21:09:12 1993
***************
*** 129,135 ****
  typedef enum { FALSE, TRUE } Boolean;

  #if __GNUC__
! typedef void noreturn;
  #else
  typedef void noreturn;
  #endif
--- 129,135 ----
  typedef enum { FALSE, TRUE } Boolean;

  #if __GNUC__
! typedef volatile void noreturn;
  #else
  typedef void noreturn;
  #endif
*** es-0.84/prim-sys.c       Mon Oct 25 13:33:10 1993
--- es-0.84old/prim-sys.c  Thu Apr 29 21:09:09 1993
***************
*** 138,144 ****

  #if BSD_LIMITS
  extern int getrlimit(int, struct rlimit *);
! extern int setrlimit(int, struct rlimit *);

  typedef struct Suffix Suffix;
  struct Suffix {
--- 138,144 ----

  #if BSD_LIMITS
  extern int getrlimit(int, struct rlimit *);
! extern int setrlimit(int, const struct rlimit *);

  typedef struct Suffix Suffix;
  struct Suffix {

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00710.html">Re: rsh and (lack of) startup files</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00712.html">Re: es and gcc-2.5.0</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00714.html">Re: rsh and (lack of) startup files</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00712.html">Re: es and gcc-2.5.0</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00711"><strong>Date</strong></a></li>
<li><a href="threads.html#00711"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
