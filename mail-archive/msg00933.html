<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: Plumbing -->
<!--X-From-R13: unnueNargpbz.pbz (Bnhy Vnnue) -->
<!--X-Date: Wed, 19 Mar 1997 17:57:06 &#45;0500 -->
<!--X-Message-Id: 199703192234.OAA10377@netcom9.netcom.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E0w7Kkk&#45;0006mh&#45;00@g.pet.cam.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Plumbing</title>
<link rev="made" href="mailto:haahr@netcom.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00932.html">Date Prev</a>][<a href="msg00934.html">Date Next</a>][<a href="msg00932.html">Thread Prev</a>][<a href="msg00934.html">Thread Next</a>][<a href="maillist.html#00933">Date Index</a>][<a href="threads.html#00933">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Plumbing</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Gareth McCaughan &lt;<a href="mailto:gjm11%40dpmms.cam.ac.uk">gjm11@dpmms.cam.ac.uk</a>&gt;</li>
<li><em>Subject</em>: Re: Plumbing</li>
<li><em>From</em>: <a href="mailto:haahr%40netcom.com">haahr@netcom.com</a> (Paul Haahr)</li>
<li><em>Date</em>: Wed, 19 Mar 1997 17:34:37 -0500</li>
<li><em>Cc</em>: <a href="mailto:es%40hawkwind.utcs.toronto.edu">es@hawkwind.utcs.toronto.edu</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00932.html">E0w7Kkk-0006mh-00@g.pet.cam.ac.uk</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00932.html">E0w7Kkk-0006mh-00@g.pet.cam.ac.uk</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt; Suppose you're doing some operation that produces a lot of
&gt; output, and possibly some error output too (a big &quot;make&quot;,
&gt; say). It would be useful to be able to distinguish between
&gt; the two kinds of output; but you don't just want to send them
&gt; to different places, because you want to keep the two
&gt; synchronised.
&gt; 
&gt; What would be good would be the ability to connect both fd 1
&gt; and fd 2 of one process to two different fd's of another
&gt; process: some syntax like
&gt; 
&gt;     make universe |[1=0,2=3] process_output
&gt; 
&gt; or maybe
&gt; 
&gt;     make universe |[1=0][2=3] process_output
&gt; .

Ah, the infamous multipipe primitives.

&gt; It's not clear to me what the right way of modifying the pipe
&gt; primitive for this would be; probably something like
&gt; 
&gt;     %pipe {make universe} '1 2' '0 3' {process_output}
&gt; 
&gt; would be best.

(Er, ugh.)  If I were to do such a thing, I'd probably change the pipe
primitive to take a list of output-on-left/input-on-right fd pairs,
either counted or explicitly delimited, something like

  make universe |[1=0,2=3] process_output | grep errors

turning into

  %pipe {make universe} 1 0 2 3 . {process_output} 1 0 . {grep errors}

But if we did this, then people would start to want things like circular
pipes, just for the sake of completeness, and the notations get really
absurd.

&gt; Does this make sense, or is the whole idea crazy?

Not crazy.  It's just that the number of times it actually would be used
is probably pretty rare.

&gt; If it makes sense, is there any chance of its seeing the light of day
&gt; in a future &quot;es&quot; release?

Is there any chance of a future release of es seeing the light of day?
I keep saying I'll do it, but I haven't yet, and my attention has
wandered quite far from es.

&gt; Is there more chance if I implement it?

If you implement it, release it as a patch and see if other es users
find it useful.

(And don't bother trying hacks with FIFOs.  They always bite back.)

Paul

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00932" href="msg00932.html">Plumbing</a></strong>
<ul><li><em>From:</em> Gareth McCaughan &lt;gjm11@dpmms.cam.ac.uk&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00932.html">Plumbing</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00934.html">Re: Plumbing</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00932.html">Plumbing</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00934.html">Re: Plumbing</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00933"><strong>Date</strong></a></li>
<li><a href="threads.html#00933"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
