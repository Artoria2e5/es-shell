<!-- MHonArc v2.6.18 -->
<!--X-Subject: Catching both the exit status and the output -->
<!--X-From-R13: unapurNnzf.fhalfo.rqh (Vnenyq Vnapur&#45;Ayfra) -->
<!--X-Date: Sun, 16 May 1993 17:10:39 &#45;0400 -->
<!--X-Message-Id: 9305162107.AA02727@ams.sunysb.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 9305150046.AA00373@thurio.robots.ox.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Catching both the exit status and the output</title>
<link rev="made" href="mailto:hanche@ams.sunysb.edu">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00396.html">Date Prev</a>][<a href="msg00398.html">Date Next</a>][<a href="msg00392.html">Thread Prev</a>][<a href="msg00409.html">Thread Next</a>][<a href="maillist.html#00397">Date Index</a>][<a href="threads.html#00397">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Catching both the exit status and the output</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:peter%40robots.ox.ac.uk">peter@robots.ox.ac.uk</a></li>
<li><em>Subject</em>: Catching both the exit status and the output</li>
<li><em>From</em>: <a href="mailto:hanche%40ams.sunysb.edu">hanche@ams.sunysb.edu</a> (Harald Hanche-Olsen)</li>
<li><em>Date</em>: Sun, 16 May 1993 17:07:38 -0400</li>
<li><em>Cc</em>: <a href="mailto:es%40hawkwind.utcs.toronto.edu">es@hawkwind.utcs.toronto.edu</a></li>
<li><em>In-reply-to</em>: peter@robots.ox.ac.uk's message of Fri, 14 May 1993 20:46:02 -0400 &lt;<a href="msg00392.html">9305150046.AA00373@thurio.robots.ox.ac.uk</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt;&gt;&gt;&gt;&gt; peter@robots.ox.ac.uk writes:

Pete&gt; Being able to do
Pete&gt; 	while &lt;={line &gt;&gt;&gt; var} { echo $var }
Pete&gt; would be brilliant.

Hmm, yes, you could think of it as an assignment operator with a
useful return value.  And

  cmd &gt;&gt;&gt; var

might really be syntactic sugar for

  { let (x = &lt;={%Background cmd}) { var = $x(2 ...); result $x(1) }}

where %Background is my suggested, generalized primitive.  I think I
like this idea.

Pete&gt; Hey whilst we're at it, why not even &gt;&gt;&gt;[n] ?

But now you are beginning to treat it not as an assignment but rather
like a redirection, and users might reasonably expect to be able to
say things like

  cmd &gt;&gt;&gt;[1] a &gt;&gt;&gt;[2] b &gt;&gt;&gt;[3] c

and then the shell has to work really hard at reading all those file
descriptors in the right order without blocking either itself or cmd.
Worse, if thinking of this as a redirection you would expect cmd to
execute in the current shell, thus potentially causing the shell to be
writing into a pipeline leading to a process whose output the shell
has to read from a different pipeline.  Sounds like a recipe for fatal
blocking to me.

- Harald

PS.  Maybe I should add a little disclaimer:  I am not a computer
scientist, only a mathematician with more than the usual interest in
computers.  So if I am beginning to spout too much nonsense, someone
please stop me.  Gently.  :-)

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00392" href="msg00392.html">Re: Catching both the exit status and the output</a></strong>
<ul><li><em>From:</em> peter@robots.oxford.ac.uk</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00396.html">Q: emacs inferior es echoing lines -- cause?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00398.html">Re:  Catching both the exit status and the output</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00392.html">Re: Catching both the exit status and the output</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00409.html">Multiple assignments?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00397"><strong>Date</strong></a></li>
<li><a href="threads.html#00397"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
