<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: protecting shell fds -->
<!--X-From-R13: Bnhy Vnnue <unnueNzi.hf.nqbor.pbz> -->
<!--X-Date: Wed, 21 Oct 1992 18:41:16 &#45;0400 -->
<!--X-Message-Id: 9210212240.AA10741@utopia.mv.us.adobe.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: protecting shell fds</title>
<link rev="made" href="mailto:haahr@mv.us.adobe.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00129.html">Date Prev</a>][<a href="msg00131.html">Date Next</a>][<a href="msg00129.html">Thread Prev</a>][<a href="msg00120.html">Thread Next</a>][<a href="maillist.html#00130">Date Index</a>][<a href="threads.html#00130">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: protecting shell fds</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: John (For the colours are many, but the light is one.) Mackin &lt;john@	civil.su.oz.au&gt;</li>
<li><em>Subject</em>: Re: protecting shell fds</li>
<li><em>From</em>: Paul Haahr &lt;<a href="mailto:haahr%40mv.us.adobe.com">haahr@mv.us.adobe.com</a>&gt;</li>
<li><em>Date</em>: Wed, 21 Oct 1992 18:40:52 -0400</li>
<li><em>Cc</em>: es mailing list &lt;<a href="mailto:es%40hawkwind.utcs.toronto.edu">es@hawkwind.utcs.toronto.edu</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt; It does have one disadvantage which to my mind is quite serious:
&gt; namely, it makes it impossible (well, very very hard) to execute builtins
&gt; with redirections unless you fork.  This is really, really terrible.  In
&gt; fact, it is a bug.

i'm not sure it's a bug, but it does run counter to some expectations.

&gt; [mention from a surprising place of how csh does things well :-)]

what Byron and i have discussed doing is storing up redirections in the fds  
that open returns until after the fork, when the remapping would happen.   
writes (and maybe reads) go through an extra level of indirection to figure  
out what fd they're supposed to affect.  this is all pretty simple to do  
and doesn't have to be slow.  how it interacts with exceptions is still a  
question.

fixed in 0.75, unless there's a gotcha we haven't foreseen.

ps: expect 0.75 early next week

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00129.html">Re: protecting shell fds</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00131.html">Re: You said the J word</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00129.html">Re: protecting shell fds</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00120.html">Re: You said the J word</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00130"><strong>Date</strong></a></li>
<li><a href="threads.html#00130"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
