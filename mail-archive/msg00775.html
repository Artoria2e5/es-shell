<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: command line processing order -->
<!--X-From-R13: neabyqNpp.tngrpu.rqh (Oeabyq Dboovaf) -->
<!--X-Date: Wed, 30 Nov 1994 10:48:54 &#45;0500 -->
<!--X-Message-Id: 199411301548.KAA28288@penfold.cc.gatech.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: command line processing order</title>
<link rev="made" href="mailto:arnold@cc.gatech.edu">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00774.html">Date Prev</a>][<a href="msg00776.html">Date Next</a>][<a href="msg00744.html">Thread Prev</a>][<a href="msg00778.html">Thread Next</a>][<a href="maillist.html#00775">Date Index</a>][<a href="threads.html#00775">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: command line processing order</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:haahr%40netcom.com">haahr@netcom.com</a> (Paul Haahr)</li>
<li><em>Subject</em>: Re: command line processing order</li>
<li><em>From</em>: <a href="mailto:arnold%40cc.gatech.edu">arnold@cc.gatech.edu</a> (Arnold Robbins)</li>
<li><em>Date</em>: Wed, 30 Nov 1994 10:48:34 -0500</li>
<li><em>Cc</em>: <a href="mailto:es%40hawkwind.utcs.toronto.edu">es@hawkwind.utcs.toronto.edu</a></li>
<li><em>In-reply-to</em>: Paul Haahr's 45-line message on Nov 29,  8:33pm</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 5 July 1994, Arnold Robbins wrote:
&gt; &gt; This bit me the other day:
&gt; &gt; 
&gt; &gt; ; ls
&gt; &gt; a	b	c	d
&gt; &gt; ; cat * &gt; foo
&gt; &gt; cat: input foo is output
&gt; &gt; 
&gt; &gt; The wildcard expansion is happening *after* the I/O redirection. The Bourne
&gt; &gt; shell and Byron's rc both do the wildcard expansion first, and I think this
&gt; &gt; is the right way to go.
&gt; 
&gt; Date: Tue, 29 Nov 1994 20:33:13 -0500
&gt; From: haahr@netcom.com (Paul Haahr)
&gt; Subject: Re: command line processing order
&gt; 
&gt; This would be a hard thing to change.  In raw es (try es -nx) the
&gt; command becomes
&gt; 
&gt; 	{%create 1 &lt;={%one foo} {cat *}}
&gt; 
&gt; which pretty much determines the sequence.  %create doesn't have the
&gt; option to glob the command, create the file, and then execute.  (In
&gt; fact, it's not even as simple as that description implies.)

I would argue that this really makes a strong case to bring globbing
out to the user level. It should become

	# pardon the pseudo-syntax, I've forgotten a lot of the details
	local (files = &lt;={%glob *})
		{%create 1 &lt;={%one foo} {cat $files }}

This would cause the globbing to happen first.

Maybe it could be done like this now, using `{ echo * } although then
you have issues of file names with spaces in them, etc. 

Hmmm:
	local (ifs = ; files = `{ echo * })
		{%create 1 &lt;={%one foo} {cat $files }}

ANYWAY. The point is that I still think globbing should be done first,
and it could probably be managed.

&gt; Interestingly enough, the Bourne shell really does seem to do the
&gt; operations in the order that you specify:
&gt; 
&gt; 	$ &gt;foo cat *
&gt; 	Input/output files 'foo' identical
&gt; 	$ 
&gt; 
&gt; Neither es nor rc preserves this much faithfulness to the order of
&gt; coponents of a command line.

I agree that this is bogus; rc is &quot;most correct&quot; in this instance.
Interestingly enough, ksh gets this right.

Let me say that I, for one, am very happy to see that you're diving back
into es, and I'm looking forward to that &quot;next release&quot;!

Arnold

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00778" href="msg00778.html">Re: command line processing order</a></strong>
<ul><li><em>From:</em> haahr@netcom.com (Paul Haahr)</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00774.html">Welcome back</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00776.html">Welcome back</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00744.html">Re: command line processing order</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00778.html">Re: command line processing order</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00775"><strong>Date</strong></a></li>
<li><a href="threads.html#00775"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
