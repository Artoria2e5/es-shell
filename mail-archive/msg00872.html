<!-- MHonArc v2.6.18 -->
<!--X-Subject: es &#38; readline -->
<!--X-From-R13: Bnhy Vnnue <unnueNargpbz.pbz> -->
<!--X-Date: Sat, 26 Aug 1995 12:28:14 &#45;0400 -->
<!--X-Message-Id: 10741.9508261625@bessie.harlequin.co.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>es &amp; readline</title>
<link rev="made" href="mailto:haahr@netcom.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00871.html">Date Prev</a>][<a href="msg00873.html">Date Next</a>][<a href="msg00870.html">Thread Prev</a>][<a href="msg00873.html">Thread Next</a>][<a href="maillist.html#00872">Date Index</a>][<a href="threads.html#00872">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>es &amp; readline</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:es%40hawkwind.utcs.toronto.edu">es@hawkwind.utcs.toronto.edu</a></li>
<li><em>Subject</em>: es &amp; readline</li>
<li><em>From</em>: Paul Haahr &lt;<a href="mailto:haahr%40netcom.com">haahr@netcom.com</a>&gt;</li>
<li><em>Date</em>: Sat, 26 Aug 1995 12:25:42 -0400</li>
<li><em>Reply-to</em>: Paul Haahr &lt;<a href="mailto:haahr%40netcom.com">haahr@netcom.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>(1) I had warned about using es-0.9alpha1 on SunOS with readline.  The
problem appears to be Sun's non-ansi header files (notably, for those
of you who've dealt with this before, the ioctl definitions) combined
with an ANSI preprocessor.  Sigh.  I first hit that in 1987 or so, and
thought it would be long dead by now.

Workarounds include using a more recent version of readline (I was
using something horrifically old, I think), fixing your include files,
or using a non-ansi preprocessor

(2) Soren Dayton &lt;csdayton@midway.uchicago.edu&gt; pointed out that his
es was crashing with multi-line commands.

It turns out that, with readline 2.0, a NULL prompt crashes.  He had a
$prompt which was 1 element long, and es was passing NULL to readline.
A patch to prevent es from doing that follows.

Later versions of readline (e.g., the one out of the current bash
distribution) do not have this problem.  Earlier ones must not have,
either, because otherwise it would have tripped people up before.

Paul

===================================================================
RCS file: RCS/input.c,v
retrieving revision 1.22
retrieving revision 1.23
diff -r1.22 -r1.23
1c1
&lt; /* input.c -- read input from files or strings ($Revision: 1.22 $) */
---
&gt; /* input.c -- read input from files or strings ($Revision: 1.23 $) */
191a192,193
&gt; 	if (prompt == NULL)
&gt; 		prompt = &quot;&quot;; /* bug fix for readline 2.0 */


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00871.html">Re: es-0.90-alpha dumping core on a ~~</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00873.html">es sucking up processor time...</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00870.html">Oh yeah</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00873.html">es sucking up processor time...</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00872"><strong>Date</strong></a></li>
<li><a href="threads.html#00872"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
