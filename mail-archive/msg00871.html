<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: es&#45;0.90&#45;alpha dumping core on a ~~ -->
<!--X-From-R13: Bnhy Vnnue <unnueNargpbz.pbz> -->
<!--X-Date: Thu, 24 Aug 1995 07:21:32 &#45;0400 -->
<!--X-Message-Id: 3843.9508241118@bessie.harlequin.co.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 199508222259.RAA14147@woodlawn.uchicago.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: es-0.90-alpha dumping core on a ~~</title>
<link rev="made" href="mailto:haahr@netcom.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00870.html">Date Prev</a>][<a href="msg00872.html">Date Next</a>][<a href="msg00869.html">Thread Prev</a>][<a href="msg00870.html">Thread Next</a>][<a href="maillist.html#00871">Date Index</a>][<a href="threads.html#00871">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: es-0.90-alpha dumping core on a ~~</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Soren Dayton &lt;<a href="mailto:csdayton%40midway.uchicago.edu">csdayton@midway.uchicago.edu</a>&gt;</li>
<li><em>Subject</em>: Re: es-0.90-alpha dumping core on a ~~</li>
<li><em>From</em>: Paul Haahr &lt;<a href="mailto:haahr%40netcom.com">haahr@netcom.com</a>&gt;</li>
<li><em>Date</em>: Thu, 24 Aug 1995 07:18:54 -0400</li>
<li><em>Cc</em>: <a href="mailto:es%40hawkwind.utcs.toronto.edu">es@hawkwind.utcs.toronto.edu</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00869.html">199508222259.RAA14147@woodlawn.uchicago.edu</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00869.html">199508222259.RAA14147@woodlawn.uchicago.edu</a>&gt;</li>
<li><em>Reply-to</em>: Paul Haahr &lt;<a href="mailto:haahr%40netcom.com">haahr@netcom.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Soren Dayton wrote [trimmed slightly]
&gt; ; echo &lt;={ variable = &lt;={ %split / $wd } }
&gt; nfs woodlawn w4 csdayton
&gt; ; echo &lt;={ variable = $variable( 3 ... ) }
&gt; w4 csdayton
&gt; ; echo &lt;={ ~~ $variable(1) [qwek][0-9] }
&gt; match.c:206: assertion failed (j != RANGE_FAIL)
&gt; Process shell abort (core dumped)
&gt; 
&gt; After a quick glance at the code, I do not see what the problem is...

The problem was that, after extracting a character class match, I
forgot to skip forward over the rest of the character class.  The bug
only shows up if some other pattern follows the character class.  This
code should be better commented.  A patch follows.

&gt; Is there a list of known bugs and patches somewhere?  I would really
&gt; like to use the alpha for reasons like ~~.

There haven't been enough patches yet.  This is, in fact, the first
serious bug fix, I think.  The rest have been some portability nits.

I'll release an alpha-2 after the stuff in alpha-1 has gotten more
testing.

Paul

===================================================================
RCS file: RCS/match.c,v
retrieving revision 1.5
diff -c -r1.5 match.c
*** 1.5	1995/05/30 11:13:31
--- match.c	1995/08/24 11:09:30
***************
*** 208,213 ****
--- 208,214 ----
  					assert(*s == '[');
  					break;
  				}
+ 				i += j;
  			    }
  			    /* FALLTHROUGH */
  			    case '?':


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00869" href="msg00869.html">es-0.90-alpha dumping core on a ~~</a></strong>
<ul><li><em>From:</em> Soren Dayton &lt;csdayton@midway.uchicago.edu&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00870.html">Oh yeah</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00872.html">es &amp; readline</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00869.html">es-0.90-alpha dumping core on a ~~</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00870.html">Oh yeah</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00871"><strong>Date</strong></a></li>
<li><a href="threads.html#00871"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
