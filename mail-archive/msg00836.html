<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: Settor functions and initialization -->
<!--X-From-R13: sevrqznaNpyv.pbz (@bnu Tevrqzna) -->
<!--X-Date: Thu, 11 May 1995 18:35:55 &#45;0400 -->
<!--X-Message-Id: 9505112235.AA19087@tepui.cli.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 9505112207.ZM12050@chanur.imf.unit.no -->
<!--X-Reference: 9505112144.AA18552@tepui.cli.com -->
<!--X-Reference: 9505120018.ZM12063@chanur.imf.unit.no -->
<!--X-Reference: hanche@imf.unit.no -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Settor functions and initialization</title>
<link rev="made" href="mailto:friedman@cli.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00835.html">Date Prev</a>][<a href="msg00837.html">Date Next</a>][<a href="msg00835.html">Thread Prev</a>][<a href="msg00837.html">Thread Next</a>][<a href="maillist.html#00836">Date Index</a>][<a href="threads.html#00836">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Settor functions and initialization</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:hanche%40imf.unit.no">hanche@imf.unit.no</a></li>
<li><em>Subject</em>: Re: Settor functions and initialization</li>
<li><em>From</em>: <a href="mailto:friedman%40cli.com">friedman@cli.com</a> (Noah Friedman)</li>
<li><em>Date</em>: Thu, 11 May 1995 19:35:45 -0400</li>
<li><em>Cc</em>: <a href="mailto:es%40hawkwind.utcs.toronto.edu">es@hawkwind.utcs.toronto.edu</a></li>
<li><em>In-reply-to</em>: &lt;hanche@imf.unit.no&gt; Thu, 11 May 1995 18:18:02 -0400</li>
<li><em>References</em>: &lt;<a href="msg00833.html">9505112207.ZM12050@chanur.imf.unit.no</a>&gt;	&lt;<a href="msg00834.html">9505112144.AA18552@tepui.cli.com</a>&gt;	&lt;<a href="msg00835.html">9505120018.ZM12063@chanur.imf.unit.no</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:friedman%40cli.com">friedman@cli.com</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt;| Calling settors at startup time shouldn't be necessary at all, since all
&gt;| the variables should be inherited from the environment unchanged (modulo
&gt;| present bugs in closure preservation).
&gt;
&gt;Not true.  Consider the sequence
&gt;
&gt;; su
&gt;Password:
&gt;# es
&gt;;
&gt;
&gt;Doing su root changes $PATH. Entering es should then set $path
&gt;accordingly. (As I have previously pointed out, exporting both PATH and
&gt;path is wrong since in this case the result depends on which of set-path
&gt;and set-PATH gets called first.)

path and PATH are just a particular case.  It's more complicated than that.
You cannot guess in general which variable a program might change, that you
opted to keep in sync with something else.  Consider that on some systems,
LOGNAME is the canonical user name variable.  On others, it's USER.  I keep
them in sync so I don't have to guess which one to use, but if they are
made out of sync by su, how do you possibly determine which settor is the
correct one to call after a new shell invocation?

My solution to this (working on the assumption that settors weren't called
at startup time, which now explains some myserious directory-tracking bugs
I've not not bothered to fix) was to have a hook run by my repl each time
it's started, and add various synchronization functions there which depend
on information I've gleaned from the OS beforehand.  It's insanely
complicated.

But I think in the average case, the environment is not changed from one
invocation of the shell to the next, and you can't generally expect to know
the right order in which to call settors anyway.  So calling them at shell
startup is not particularly helpful.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00833" href="msg00833.html">Settor functions and initialization</a></strong>
<ul><li><em>From:</em> &quot;Harald Hanche-Olsen&quot; &lt;hanche@imf.unit.no&gt;</li></ul></li>
<li><strong><a name="00834" href="msg00834.html">Settor functions and initialization</a></strong>
<ul><li><em>From:</em> friedman@gnu.ai.mit.edu (Noah Friedman)</li></ul></li>
<li><strong><a name="00835" href="msg00835.html">Re: Settor functions and initialization</a></strong>
<ul><li><em>From:</em> &quot;Harald Hanche-Olsen&quot; &lt;hanche@imf.unit.no&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00835.html">Re: Settor functions and initialization</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00837.html">Re: Settor functions and initialization</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00835.html">Re: Settor functions and initialization</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00837.html">Re: Settor functions and initialization</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00836"><strong>Date</strong></a></li>
<li><a href="threads.html#00836"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
